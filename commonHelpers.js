import{S as g,i as a}from"./assets/vendor-038caae7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))h(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&h(d)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function h(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const o={searchForm:document.querySelector(".search-form"),inputElement:document.querySelector(".search-input"),galleryList:document.querySelector(".gallery"),loader:document.querySelector(".loader")};new g(".gallery a",{captionsData:"alt",captionDelay:250});u();let l,s=1;const c=15;o.searchForm.addEventListener("submit",y);async function y(i){if(i.preventDefault(),l=o.inputElement.value.trim(),s=1,o.galleryList.innerHTML="",l===""){a.error({title:"Error",message:"Please enter a search term.",position:"topRight"}),hideLoadMoreBtn();return}m();try{const t=await fetchImg(l,s,c),n=t.totalHits;if(t.hits.length===0){o.galleryList.innerHTML="",a.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),hideLoadMoreBtn();return}else renderImg(t.hits),o.inputElement.value="",showLoadMoreBtn();c*s>=n&&(hideLoadMoreBtn(),f())}catch(t){console.error("Error fetching images:",t),a.error({title:"Error",message:"Failed to fetch images. Please try again later.",position:"topRight"})}finally{u()}}o.load.addEventListener("click",async()=>{try{o.load&&(s+=1);const i=await fetchImg(l,s,c),t=i.totalHits;renderImg(i.hits),m(),c*s>=t&&(hideLoadMoreBtn(),f());const n=o.galleryList.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:n*3,behavior:"smooth"})}catch(i){console.error("Error fetching more images:",i),a.error({title:"Error",message:`Error fetching more images: ${i}`})}finally{u()}});function m(){o.loader.classList.remove("hidden")}function u(){o.loader.classList.add("hidden")}function f(){hideLoadMoreBtn(),a.error({title:"Error",message:"We're sorry, but you've reached the end of search results.",position:"topRight"})}
//# sourceMappingURL=commonHelpers.js.map
