{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(q) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '43096972-1afb589163252f275da428b1d',\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  const url = `${BASE_URL}?${params}`;\n  return fetch(url)\n    .then(res => res.json())\n    .catch(error => {\n      console.error('Error occurred while fetching images:', error);\n      throw error;\n    });\n}\n","export function renderImages(imagesArr) {\n  return imagesArr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"list-item\">\n     <a class=\"gallery-link\" href =\"${largeImageURL}\">\n     <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\"\n     </a>\n     \n      <ul class=\"information-list\">\n        <li class=\"item-information-container\">\n          <h2 class=\"main-info\">Likes </h2>\n            <p class=\"info\">${likes}</p>\n          \n        </li>\n        <li class=\"item-information-container\">\n          <h2 class=\"main-info\"> Views</h2>\n            <p class=\"info\">${views}</p>\n          \n        </li>\n        <li class=\"item-information-container\">\n          <h2 class=\"main-info\">Comments </h2>\n            <p class=\"info\">${comments}</p>\n          \n        </li>\n        <li class=\"item-information-container\">\n          <h2 class=\"main-info\">Downloads </h2>\n            <p class=\"info\">${downloads}</p>\n        </li>\n      </ul>\n   \n    </li>`;\n      }\n    )\n    .join('');\n}\n","import { getImages } from './js/pixabay-api';\r\nimport { renderImages } from './js/render-functions';\r\n\r\nimport iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nconst form = document.querySelector('.search-form');\r\nconst list = document.querySelector('.list');\r\nconst load = document.querySelector('.loading');\r\nform.addEventListener('submit', handleImages);\r\n\r\nfunction handleImages(e) {\r\n  e.preventDefault();\r\n  load.classList.add('loader');\r\n  const input = e.target.elements.search.value.trim();\r\n  if (input === '') {\r\n    iziToast.error({\r\n      backgroundColor: 'lightred',\r\n      icon: false,\r\n      progressBar: false,\r\n      close: false,\r\n      position: 'topRight',\r\n      message: 'Please, fill the field!',\r\n    });\r\n    return;\r\n  }\r\n\r\n  getImages(input)\r\n    .then(value => {\r\n      if (value.hits && value.hits.length === 0) {\r\n        iziToast.error({\r\n          backgroundColor: 'red',\r\n          progressBar: false,\r\n          close: false,\r\n          position: 'topRight',\r\n          message:\r\n            'Sorry, there are no images matching your search query. Please try again!',\r\n        });\r\n      }\r\n\r\n      const markup = renderImages(value.hits);\r\n      list.innerHTML = markup;\r\n      const lightbox = new SimpleLightbox('.gallery-link', {\r\n        captionsData: 'alt',\r\n      });\r\n      lightbox.refresh();\r\n    })\r\n    .catch(error => {\r\n      console.error('Error occurred while fetching images:', error);\r\n      iziToast.error({\r\n        backgroundColor: 'red',\r\n        icon: false,\r\n        progressBar: false,\r\n        close: false,\r\n        position: 'topRight',\r\n        message:\r\n          'Sorry, an error occurred while fetching images. Please try again!',\r\n      });\r\n    })\r\n    .finally(() => load.classList.remove('loader'));\r\n  e.target.reset();\r\n}\r\n"],"names":["getImages","q","BASE_URL","params","url","res","error","renderImages","imagesArr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","list","load","handleImages","e","input","iziToast","value","markup","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAUC,EAAG,CAC3B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAAF,EACA,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAS,CACd,cAAQ,MAAM,wCAAyCA,CAAK,EACtDA,CACZ,CAAK,CACL,CChBO,SAASC,EAAaC,EAAW,CACtC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,sCACuBL,CAAa;AAAA,iBAClCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAMbC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAMlC,EACA,KAAK,EAAE,CACZ,CCnCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAO,SAAS,cAAc,UAAU,EAC9CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBF,EAAK,UAAU,IAAI,QAAQ,EAC3B,MAAMG,EAAQD,EAAE,OAAO,SAAS,OAAO,MAAM,OAC7C,GAAIC,IAAU,GAAI,CAChBC,EAAS,MAAM,CACb,gBAAiB,WACjB,KAAM,GACN,YAAa,GACb,MAAO,GACP,SAAU,WACV,QAAS,yBACf,CAAK,EACD,MACD,CAEDtB,EAAUqB,CAAK,EACZ,KAAKE,GAAS,CACTA,EAAM,MAAQA,EAAM,KAAK,SAAW,GACtCD,EAAS,MAAM,CACb,gBAAiB,MACjB,YAAa,GACb,MAAO,GACP,SAAU,WACV,QACE,0EACZ,CAAS,EAGH,MAAME,EAASjB,EAAagB,EAAM,IAAI,EACtCN,EAAK,UAAYO,EACA,IAAIC,EAAe,gBAAiB,CACnD,aAAc,KACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMnB,GAAS,CACd,QAAQ,MAAM,wCAAyCA,CAAK,EAC5DgB,EAAS,MAAM,CACb,gBAAiB,MACjB,KAAM,GACN,YAAa,GACb,MAAO,GACP,SAAU,WACV,QACE,mEACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAMJ,EAAK,UAAU,OAAO,QAAQ,CAAC,EAChDE,EAAE,OAAO,OACX"}